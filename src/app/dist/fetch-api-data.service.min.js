"use strict";var __decorate=this&&this.__decorate||function(r,e,o,t){var a,s=arguments.length,n=s<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,o,t);else for(var i=r.length-1;0<=i;i--)(a=r[i])&&(n=(s<3?a(n):3<s?a(e,o,n):a(e,o))||n);return 3<s&&n&&Object.defineProperty(e,o,n),n};exports.__esModule=!0;var core_1=require("@angular/core"),operators_1=require("rxjs/internal/operators"),http_1=require("@angular/common/http"),rxjs_1=require("rxjs"),operators_2=require("rxjs/operators"),apiUrl="https://myflix-app-2021.netlify.app/",UserRegistrationService=function(){function r(r){this.http=r}return r.prototype.userRegistration=function(r){return console.log(r),this.http.post(apiUrl+"users",r).pipe(operators_1.catchError(this.handleError))},r.prototype.handleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Something bad happened; please try again later.")},r.prototype.userLogin=function(r){return console.log(r),this.http.post(apiUrl+"login",r).pipe(operators_1.catchError(this.userLoginHandleError))},r.prototype.userLoginHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error logging in, please try again!")},r.prototype.getAllMovies=function(){var r=localStorage.getItem("token");return this.http.get(apiUrl+"movies",{headers:new http_1.HttpHeaders({Authorization:"Bearer "+r})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.handleError))},r.prototype.extractResponseData=function(r){return r||{}},r.prototype.getMovieByTitle=function(){var r=localStorage.getItem("token");return this.http.get(apiUrl+"movies/:Title",{headers:new http_1.HttpHeaders({Authorization:"Bearer "+r})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.getMovieByTitleHandleError))},r.prototype.getMovieByTitleHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error retieving movie details")},r.prototype.getDirector=function(){var r=localStorage.getItem("token");return this.http.get(apiUrl+"movies/directors/:Name",{headers:new http_1.HttpHeaders({Authorization:"Bearer "+r})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.getDirectorHandleError))},r.prototype.getDirectorHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error retieving director view")},r.prototype.getGenre=function(){var r=localStorage.getItem("token");return this.http.get(apiUrl+"movies/genres/:Name",{headers:new http_1.HttpHeaders({Authorization:"Bearer "+r})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.getGenreHandleError))},r.prototype.getGenreHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error retieving genre view")},r.prototype.getUser=function(r){var e=localStorage.getItem("token");return this.http.get(apiUrl+"users/"+r,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.getUserHandleError))},r.prototype.getUserHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error retrieving user account data")},r.prototype.getFavorite=function(r){var e=localStorage.getItem("token"),o=localStorage.getItem("user");return this.http.get(apiUrl+"users/"+o+"/favorites/"+r,r,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.addFavoriteHandleError))},r.prototype.getFavoriteHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error adding movie to favorites list")},r.prototype.addFavorite=function(r){var e=localStorage.getItem("token"),o=localStorage.getItem("user");return this.http.post(apiUrl+"users/"+o+"/favorites/"+r,r,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.addFavoriteHandleError))},r.prototype.addFavoriteHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error adding movie to favorites list")},r.prototype.updateUser=function(r){var e=localStorage.getItem("token"),o=localStorage.getItem("user");return this.http.put(apiUrl+"users/"+o,r,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.editUserHandleError))},r.prototype.editUserHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error updating user info")},r.prototype.deleteUser=function(){var r=localStorage.getItem("token"),e=localStorage.getItem("user");return this.http.delete(apiUrl+"users/"+e,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+r})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.deleteUserHandleError))},r.prototype.deleteUserHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error deleting profile")},r.prototype.removeFavorite=function(r){var e=localStorage.getItem("token"),o=localStorage.getItem("user");return this.http.delete(apiUrl+"users/"+o+"/favorites/"+r,{headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})}).pipe(operators_2.map(this.extractResponseData),operators_1.catchError(this.removeFavoriteHandleError))},r.prototype.removeFavoriteHandleError=function(r){return r.error instanceof ErrorEvent?console.error("Some error occurred:",r.error.message):console.error("Error Status code "+r.status+", Error body is: "+r.error),rxjs_1.throwError("Error adding movie to favorites list")},r=__decorate([core_1.Injectable({providedIn:"root"})],r)}();exports.UserRegistrationService=UserRegistrationService;
//# sourceMappingURL=fetch-api-data.service.min.js.map
